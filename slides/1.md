---
marp: true
---

<script src="../node_modules/mermaid/dist/mermaid.min.js"></script>

<script>mermaid.initialize({startOnLoad:true, theme:"forest", mirrorActors:false});</script>

<link rel="stylesheet" href="res/styles.css">

# Sviluppo web con Javascript
### Valerio Iacobucci ([@iacobucci](https://github.com/iacobucci))


---

L'obiettivo del corso è imparare a sviluppare applicazioni web con gli strumenti più essenziali, moderni e facili da usare. Useremo Javascript per tutto il corso.

<div class="container">
<div class="content" style="align-items: unset">

### C, basso livello

```c
#include <stdio.h>

int main(){
	char *s = "Hello, world!";
	printf("%s\n", s);
}
```

Compilato, tipi statici + puntatori, gestione della memoria, imperativo, applicazioni di sistema.
</div>

<div class="content" style="align-items: unset">

### Javascript, alto livello

```javascript
let s = "Hello, world!"
console.log(s)
```

Interpretato, tipi dinamici, garbage collection, imperativo + orientato agli oggetti + funzionale, applicazioni web (+ di sistema).

</div>
</div>

---

## Linux

È il sistema operativo di riferimento del corso per comandi shell, come sistema per **sviluppare** e per **distribuire** le applicazioni.

> Se usate Windows, occorre il Subsystem for Linux. Aprite Powershell come amministratore e digitate:
> ```powershell
> wsl --install # selezioniamo **debian**
> wsl
> ```
> ```shell
> apt update
> apt install nodejs
> ```

> Mac os è un parente più stretto a Linux, potete usare le funzionalità *Unix* dal terminale ed installare node con Homebrew:
> ```shell
> /bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"
> brew install node
> ```

---

## Visual studio Code

Visual studio Code è un editor di testo (basato anche lui su Javascript!) con evidenziamento della sintassi, completamento automatico, debugger, integrazione con git e molto altro.

La palette dei comandi è accessibile per tutti con `ctrl+shift+p` o `cmd+shift+p`.

> Da windows installate l'estensione WSL e connettetevi al vostro sottosistema linux con `WSL: Connect to WSL` dalla palette dei comandi.

Installiamo le estensioni

- [Html CSS Support](https://marketplace.visualstudio.com/items?itemName=ecmel.vscode-html-css)
- [Eslint](https://marketplace.visualstudio.com/items?itemName=dbaeumer.vscode-eslint)

---

## Node.js

È un ambiente di esecuzione di Javascript.  [Installatelo](https://nodejs.org/en/download) ed invocatelo da riga di comando con `node`. Usate il terminale di vscode (controllate nella palette comandi `ctrl+shift+p -> create new terminal`).

```shell
Welcome to Node.js v20.8.1.
Type ".help" for more information.
> console.log("Hello, world!")
```

Oppure può essere usato per eseguire script Javascript. Create un nuovo file in vscode con contenuto `console.log("Hello, World")` e salvatelo come `test1.js`:

```shell
node test1.js
```

---

# Scripting

Un programma Javascript è una sequenza di **istruzioni**, che sono eseguite in un ordine, e che possono modificare lo **stato** del programma.

<div class="container">
<div class="content">
<div class="mermaid">
%%{init: {'theme': 'forest', 'mirrorActors': false } }%%
graph LR
	A[Inizio] --> B[istruzione 1]
	B --> C{Condizione}
	C -- soddisfatta  --> D[istruzione 2]
	C -- non soddisfatta --> E[istruzione 3]
	E -- loop --> B
	D --> F[Fine]
</div>
</div>
</div>


---

## Variabili

Rappresentano lo stato del programma, sono **nomi** che si riferiscono ad un **valore**.

```javascript
let x; // dichiarazione di una variabile, inizialmente è **undefined**
let greeting = "Hello, world!"; // dichiarazione e inizializzazione

let rad = 2; let pi = 3.1415 // tipo number
let nullVariable = null // null

const PI = 3.1415; // costante, case sensitivity
PI = 4 // TypeError! 
```
Usare `console.log(<nome variabile>)` per stampare il valore di una variabile.


---

## Alcune operazioni

```javascript
let somma = 1 + 2; let differenza = 1 - 2; let prodotto = 1 * 2; let quoziente = 1 / 2;

let operazione = 1 + 2 * 3; // 7, moltiplicazione prima della somma

let modulo = 5 % 2; // 1, resto della divisione intera

let i = 1; // incremento
i++; // i = i + 1; i = 2
i--; // i = i - 1; i = 1

let concatenazione = "Hello, " + "world!"; // "Hello, world!"
```

---

## Operazioni booleane

Con le variabili di tipo `boolean` possiamo rappresentare le operazioni logiche.
```javascript
let a = true; let b = false;
```


<div class="container">
<div class="content">

| A   | !   |
| --- | --- |
| 0   | 1   |
| 1   | 0   |
</div>

<div class="content">

| A   | B   | &&  |
| --- | --- | --- |
| 0   | 0   | 0   |
| 0   | 1   | 0   |
| 1   | 0   | 0   |
| 1   | 1   | 1   |
</div>
<div class="content">

| A   | B   | &#124;&#124; |
| --- | --- | ------------ |
| 0   | 0   | 0            |
| 0   | 1   | 1            |
| 1   | 0   | 1            |
| 1   | 1   | 1            |

</div>
</div>

Combinazioni di queste operazioni possono essere usate per rappresentare qualsiasi operazione logica.

---

## Controllo del flusso

Le operazioni di comparazione hanno come risultato un valore booleano, che può essere usato per controllare il flusso del programma.

<div class="container">
<div class="content" style="align-items: unset">

```javascript
if (eta >= 25) {
	console.log("Puoi diventare deputato");
} else if (eta >= 18) {
	console.log("Puoi votare");
} else {
	console.log("Non puoi votare");
}
```
</div>
<div class="content" style="align-items: unset">

```javascript
if (eta >= 25)
	console.log("Puoi diventare deputato");
if (eta < 25 && eta >= 18)
	console.log("Puoi votare");
if (eta < 18)
	console.log("Non puoi votare");
```
</div>
</div>

I due esempi sono equivalenti. Esiste anche il costrutto `switch` per controllare il valore di una variabile (non lo vediamo) e l'operatore ternario `() ? true : false`:
```javascript
(eta > 25) ? /*deputato*/ : (eta > 18) ? /*votare*/ : /*non votare*/
```

---

## For

È comodo per i cicli a **terminazione prevedibile**.

```javascript
let line;
let dim = 10;

for (let x = 0; x < dim; x++) { // assegnamento, condizione di ciclo, istruzione a fine ciclo
	line = ""
	for (let y = 0; y < dim; y++) {
		linea += (x * y) + " ";
	}
	console.log(line); 
} 
```

Abbiamo *innestato* due cicli.

---

## While

È comodo per i cicli a **terminazione non prevedibile**.

```javascript
let i = 2; let prime = true; let number = 11

while (true) { 
	if ( i >= number) {
		break; // esci fuori dal ciclo
	}
	if ( number % i == 0 ) { // se i resto della divisione è zero
		prime = false; break; 
	}
	i = i + 1;
} 
```

Usando la keyword `break` possiamo uscire dal ciclo *di livello più interno*.

---

## Funzioni  

Sono procedure che possono essere dichiarate, definite e **chiamate** da altre parti del programma. Prendono come ingresso **parametri** e possono restituire un **valore di ritorno**.

```javascript
function somma(a, b) {
	return a + b;
}

let x = 1 + 2 + 3;
let y = somma(somma(1, 2), 3); // chiamata nidificata

function fattoriale(n) {
	if (n == 0) {
		return 1;
	} else {
		return n * fattoriale(n - 1); //chiamata ricorsiva
	}
}
```